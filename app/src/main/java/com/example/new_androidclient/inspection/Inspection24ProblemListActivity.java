package com.example.new_androidclient.inspection;import android.os.Bundle;import android.view.View;import androidx.databinding.DataBindingUtil;import androidx.recyclerview.widget.LinearLayoutManager;import com.alibaba.android.arouter.facade.annotation.Route;import com.alibaba.android.arouter.launcher.ARouter;import com.example.new_androidclient.BR;import com.example.new_androidclient.Base.BaseActivity;import com.example.new_androidclient.NetWork.DialogObserver;import com.example.new_androidclient.NetWork.RetrofitUtil;import com.example.new_androidclient.NetWork.SchedulerTransformer;import com.example.new_androidclient.Other.RouteString;import com.example.new_androidclient.R;import com.example.new_androidclient.Util.ToastUtil;import com.example.new_androidclient.databinding.ActivityInspection24ProblemBinding;import com.example.new_androidclient.inspection.adapter.Inspection24ListAdapter;import com.example.new_androidclient.inspection.bean.Inspection24Bean;import java.util.ArrayList;import java.util.List;@Route(path = RouteString.Inspection24ProblemActivity)public class Inspection24ProblemListActivity extends BaseActivity {    private ActivityInspection24ProblemBinding binding;    private Inspection24ListAdapter adapter;    private List<Inspection24Bean> listBeans = new ArrayList<>();    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        binding = DataBindingUtil.setContentView(this, R.layout.activity_inspection24_problem);        adapter = new Inspection24ListAdapter(listBeans, BR.inspection_24_list_bean, this::jump);        binding.inspection24Recycler.setLayoutManager(new LinearLayoutManager(this));        binding.inspection24Recycler.setAdapter(adapter);        getData();    }    private void jump(View view, int i) {        ARouter.getInstance().build(RouteString.Inspection24DetailActivity)                .withInt("areaId", listBeans.get(i).getAreaId())                .withInt("deviceId", listBeans.get(i).getDeviceId())                .withInt("taskId", listBeans.get(i).getTaskId())                .navigation();    }    private void getData(){        RetrofitUtil.getApi().get24DeviceList()                .compose(new SchedulerTransformer<>())                .subscribe(new DialogObserver<List<Inspection24Bean>>(mContext, true,"正在获取列表") {                    @Override                    public void onSuccess(List<Inspection24Bean> bean) {                        if(bean.size() != 0){                            listBeans.addAll(bean);                            adapter.notifyDataSetChanged();                        }else{                            binding.inspection24Nodata.setVisibility(View.VISIBLE);                            binding.inspection24Recycler.setVisibility(View.GONE);                        }                    }                    @Override                    public void onFailure(String err) {                        ToastUtil.show(mContext, err);                        finish();                    }                });    }}